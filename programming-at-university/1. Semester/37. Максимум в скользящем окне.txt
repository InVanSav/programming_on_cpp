#include <iostream>
#include <fstream>
#include <vector>
#include <string>
#include <sstream>
#include <deque>

using namespace std;

int main(){

  ifstream fin ("input.txt");
  ofstream fout ("output.txt");
  
  int n, m;
  fin >> n;
  deque<pair<int, size_t>> solution;
  vector<int> count(n);
  int l = 0, r = 0;
  for (int i = 0; i < n; i++){
    fin >> count[i];
  }
  solution.emplace_back(count[0], 0);
  fin >> m;
  char command;
  for (int i = 0; i < m; i++){
    fin >> command;
    if (command == 'L'){
      l++;
      while (!solution.empty() && solution.front().second < l){
        solution.pop_front();
      }
    }
    else if (command == 'R'){
      r++;
      while (!solution.empty() && solution.back().first < count[r]){
        solution.pop_back();
      }
      solution.emplace_back(count[r], r);
    }
    fout << solution.front().first << " ";
  }
  return 0;
}